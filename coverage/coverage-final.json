{"/Users/Nav/Projects/typescript/fuss/src/models/AntiVirusTier.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/AntiVirusTier.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":68}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":43}},"8":{"start":{"line":10,"column":28},"end":{"line":14,"column":24}},"9":{"start":{"line":15,"column":22},"end":{"line":15,"column":74}},"10":{"start":{"line":16,"column":0},"end":{"line":16,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":24},"end":{"line":9,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":66}},"type":"binary-expr","locations":[{"start":{"line":9,"column":17},"end":{"line":9,"column":36}},{"start":{"line":9,"column":41},"end":{"line":9,"column":65}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"AntiVirusTier.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/AntiVirusTier.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAQrC,IAAY,WAA2E;AAAvF,WAAY,WAAW;IAAG,gCAAiB,CAAA;IAAE,8BAAe,CAAA;IAAE,sCAAuB,CAAA;AAAC,CAAC,EAA3E,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAAgE;AAEvF,MAAM,mBAAmB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC5C,QAAQ,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE;IACxC,eAAe,EAAE,MAAM;IACvB,WAAW,EAAE,CAAC,MAAM,CAAC;CACxB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,MAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAqB,eAAe,EAAE,mBAAmB,CAAC,CAAC;AAC/F,kBAAe,aAAa,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\n\nexport type AntiVirusTierModel = mongoose.Document & {\n  tierName: string,\n  tierDisplayName: string,\n  antiViruses: AntiViruses[]\n};\n\nexport enum AntiViruses { ClamAV = \"ClamAV\", Avast = \"Avast\", Kaspersky = \"Kaspersky\" }\n\nconst antiVirusTierSchema = new mongoose.Schema({\n    tierName: { type: String, unique: true },\n    tierDisplayName: String,\n    antiViruses: [String]\n}, { timestamps: true });\n\nconst AntiVirusTier = mongoose.model<AntiVirusTierModel>(\"AntiVirusTier\", antiVirusTierSchema);\nexport default AntiVirusTier;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"9532cbdb9b52bd9d2f161274dbe0844c2736c8d5"}
,"/Users/Nav/Projects/typescript/fuss/src/models/Application.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/Application.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":15},"end":{"line":4,"column":38}},"5":{"start":{"line":5,"column":26},"end":{"line":10,"column":24}},"6":{"start":{"line":12,"column":0},"end":{"line":19,"column":3}},"7":{"start":{"line":13,"column":24},"end":{"line":13,"column":28}},"8":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":42}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":11}},"12":{"start":{"line":20,"column":20},"end":{"line":20,"column":68}},"13":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{"0":{"name":"save","decl":{"start":{"line":12,"column":39},"end":{"line":12,"column":43}},"loc":{"start":{"line":12,"column":50},"end":{"line":19,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1},"f":{"0":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"Application.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/Application.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAGrC,uCAAuC;AASvC,MAAM,iBAAiB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC1C,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;IACtC,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE;IACtC,cAAc,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,eAAe,EAAC,CAAC;IAC/E,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;CAC9D,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,wDAAwD;AACxD,iBAAiB,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,IAAI;IAC5C,MAAM,WAAW,GAAG,IAAI,CAAC;IACzB,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAAC,CAAC;IAC1C,WAAW,CAAC,MAAM,GAAG,cAAO,EAAE,CAAC;IAC/B,IAAI,EAAE,CAAC;AACX,CAAC,CAAC,CAAC;AAEH,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAmB,aAAa,EAAE,iBAAiB,CAAC,CAAC;AACvF,kBAAe,WAAW,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { UserModel } from \"./User\";\nimport { ForwardConfigModel } from \"./ForwardConfig\";\nimport { getUuid } from \"../util/util\";\n\nexport type ApplicationModel = mongoose.Document & {\n    name: string,\n    appKey: string,\n    user: UserModel,\n    forwardConfigs: ForwardConfigModel[]\n};\n\nconst applicationSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    appKey: { type: String, unique: true },\n    forwardConfigs: [{ type: mongoose.Schema.Types.ObjectId, ref: \"ForwardConfig\"}],\n    user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" }\n}, { timestamps: true });\n\n/* Generate App Id and App Key when saving new object */\napplicationSchema.pre(\"save\", function save(next) {\n    const application = this;\n    if (!application.isNew) { return next(); }\n    application.appKey = getUuid();\n    next();\n});\n\nconst Application = mongoose.model<ApplicationModel>(\"Application\", applicationSchema);\nexport default Application;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"fbb3717b459ac54ec8e383c6c58e76fbc6980aa2"}
,"/Users/Nav/Projects/typescript/fuss/src/models/ForwardConfig.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/ForwardConfig.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":86}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":37}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":39}},"9":{"start":{"line":12,"column":0},"end":{"line":15,"column":44}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":38}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":38}},"12":{"start":{"line":16,"column":28},"end":{"line":48,"column":24}},"13":{"start":{"line":49,"column":22},"end":{"line":49,"column":74}},"14":{"start":{"line":50,"column":0},"end":{"line":50,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":30},"end":{"line":10,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":1},"end":{"line":12,"column":2}},"loc":{"start":{"line":12,"column":27},"end":{"line":15,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":84}},"type":"binary-expr","locations":[{"start":{"line":10,"column":23},"end":{"line":10,"column":48}},{"start":{"line":10,"column":53},"end":{"line":10,"column":83}}],"line":10},"1":{"loc":{"start":{"line":15,"column":3},"end":{"line":15,"column":42}},"type":"binary-expr","locations":[{"start":{"line":15,"column":3},"end":{"line":15,"column":17}},{"start":{"line":15,"column":22},"end":{"line":15,"column":41}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":1},"b":{"0":[1,1],"1":[1,1]},"inputSourceMap":{"version":3,"file":"ForwardConfig.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/ForwardConfig.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAoCrC,IAAY,iBAEX;AAFD,WAAY,iBAAiB;IACzB,8BAAS,CAAA;IAAE,wCAAmB,CAAA;IAAE,gCAAW,CAAA;IAAE,kCAAa,CAAA;AAC9D,CAAC,EAFW,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAE5B;AAED,IAAK,cAEJ;AAFD,WAAK,cAAc;IACf,iCAAe,CAAA;IAAE,iCAAe,CAAA;AACpC,CAAC,EAFI,cAAc,KAAd,cAAc,QAElB;AAED,MAAM,mBAAmB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC5C,UAAU,EAAE,MAAM;IAClB,IAAI,EAAE,MAAM;IACZ,QAAQ,EAAE;QACN,WAAW,EAAE,MAAM;QACnB,eAAe,EAAE,MAAM;QACvB,MAAM,EAAE,MAAM;KACjB;IACD,aAAa,EAAE;QACX,WAAW,EAAE,MAAM;QACnB,MAAM,EAAE,MAAM;KACjB;IACD,SAAS,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,MAAM;QAChB,QAAQ,EAAE,MAAM;QAChB,IAAI,EAAE,MAAM;KACf;IACD,UAAU,EAAE;QACR,GAAG,EAAE,MAAM;QACX,UAAU,EAAE,MAAM;QAClB,SAAS,EAAE;YACP,QAAQ,EAAE,MAAM;YAChB,QAAQ,EAAE,MAAM;SACnB;QACD,KAAK,EAAE;YACH,QAAQ,EAAE,MAAM;YAChB,YAAY,EAAE,MAAM;YACpB,WAAW,EAAE,MAAM;YACnB,cAAc,EAAE,MAAM;SACzB;KACJ;CACJ,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,MAAM,aAAa,GAAG,QAAQ,CAAC,KAAK,CAAqB,eAAe,EAAE,mBAAmB,CAAC,CAAC;AAC/F,kBAAe,aAAa,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\n\nexport type ForwardConfigModel = mongoose.Document & {\n    configName: string,\n    type: ForwardConfigType,\n    s3Config?: {\n        accessKeyId: string,\n        secretAccessKey: string,\n        bucket: string\n    },\n    dropboxConfig?: {\n        accessToken: string,\n        folder: string\n    },\n    ftpConfig?: {\n        host: string,\n        username: string,\n        password: string,\n        path: string\n    },\n    httpConfig?: {\n        uri: string,\n        authScheme: AuthSchemeType,\n        basicAuth?: {\n            username: string,\n            password: string\n        },\n        oAuth?: {\n            clientId: string,\n            clientSecret: string,\n            tokenGenURI: string,\n            tokenGenMethod: string\n        }\n    }\n};\n\nexport enum ForwardConfigType {\n    S3 = \"S3\", DROPBOX = \"DROPBOX\", FTP = \"FTP\", HTTP = \"HTTP\"\n}\n\nenum AuthSchemeType {\n    BASIC = \"BASIC\", OAUTH = \"OAUTH\"\n}\n\nconst forwardConfigSchema = new mongoose.Schema({\n    configName: String,\n    type: String,\n    s3Config: {\n        accessKeyId: String,\n        secretAccessKey: String,\n        bucket: String\n    },\n    dropboxConfig: {\n        accessToken: String,\n        folder: String\n    },\n    ftpConfig: {\n        host: String,\n        username: String,\n        password: String,\n        path: String\n    },\n    httpConfig: {\n        uri: String,\n        authScheme: String,\n        basicAuth: {\n            username: String,\n            password: String\n        },\n        oAuth: {\n            clientId: String,\n            clientSecret: String,\n            tokenGenURI: String,\n            tokenGenMethod: String\n        }\n    }\n}, { timestamps: true });\n\nconst ForwardConfig = mongoose.model<ForwardConfigModel>(\"ForwardConfig\", forwardConfigSchema);\nexport default ForwardConfig;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f21faf2a78bfe71ab6876f0a46f417662e9d2ec8"}
,"/Users/Nav/Projects/typescript/fuss/src/models/Plan.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/Plan.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":19},"end":{"line":10,"column":24}},"5":{"start":{"line":12,"column":0},"end":{"line":32,"column":3}},"6":{"start":{"line":13,"column":17},"end":{"line":13,"column":21}},"7":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"9":{"start":{"line":17,"column":4},"end":{"line":31,"column":7}},"10":{"start":{"line":23,"column":8},"end":{"line":30,"column":9}},"11":{"start":{"line":24,"column":12},"end":{"line":24,"column":29}},"12":{"start":{"line":26,"column":12},"end":{"line":29,"column":95}},"13":{"start":{"line":27,"column":16},"end":{"line":27,"column":23}},"14":{"start":{"line":29,"column":16},"end":{"line":29,"column":95}},"15":{"start":{"line":33,"column":0},"end":{"line":36,"column":3}},"16":{"start":{"line":34,"column":4},"end":{"line":34,"column":50}},"17":{"start":{"line":35,"column":4},"end":{"line":35,"column":11}},"18":{"start":{"line":37,"column":13},"end":{"line":37,"column":47}},"19":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"fnMap":{"0":{"name":"save","decl":{"start":{"line":12,"column":32},"end":{"line":12,"column":36}},"loc":{"start":{"line":12,"column":43},"end":{"line":32,"column":1}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":14},"end":{"line":22,"column":15}},"loc":{"start":{"line":22,"column":32},"end":{"line":31,"column":5}},"line":22},"2":{"name":"find","decl":{"start":{"line":33,"column":32},"end":{"line":33,"column":36}},"loc":{"start":{"line":33,"column":43},"end":{"line":36,"column":1}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}}],"line":14},"1":{"loc":{"start":{"line":14,"column":10},"end":{"line":14,"column":94}},"type":"binary-expr","locations":[{"start":{"line":14,"column":10},"end":{"line":14,"column":35}},{"start":{"line":14,"column":39},"end":{"line":14,"column":67}},{"start":{"line":14,"column":71},"end":{"line":14,"column":94}}],"line":14},"2":{"loc":{"start":{"line":23,"column":8},"end":{"line":30,"column":9}},"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":30,"column":9}},{"start":{"line":23,"column":8},"end":{"line":30,"column":9}}],"line":23},"3":{"loc":{"start":{"line":26,"column":12},"end":{"line":29,"column":95}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":29,"column":95}},{"start":{"line":26,"column":12},"end":{"line":29,"column":95}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":1},"f":{"0":0,"1":0,"2":0},"b":{"0":[0,0],"1":[0,0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"file":"Plan.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/Plan.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAYrC,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACnC,SAAS,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,WAAW,EAAE;IACrE,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,eAAe,EAAE;IACtE,IAAI,EAAE,MAAM;IACZ,KAAK,EAAE,MAAM;IACb,MAAM,EAAE,OAAO;CAClB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,+EAA+E;AAC/E,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,IAAI;IACrC,MAAM,IAAI,GAAG,IAAI,CAAC;IAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAAC,CAAC;IAC/G,IAAI,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;SAC1C,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;SACzC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;SAC/B,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;SAC5B,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC;SACzB,IAAI,CAAC,CAAC,GAAU,EAAE,OAAoB;QACnC,EAAE,CAAC,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,CAAC;YACF,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,CAAC;gBAAC,IAAI,EAAE,CAAC;YACjC,IAAI;gBAAC,MAAM,CAAC,IAAI,CAAC,IAAI,KAAK,CAAC,sDAAsD,CAAC,CAAC,CAAC;QACxF,CAAC;IACL,CAAC,CAAC,CAAC;AACX,CAAC,CAAC,CAAC;AAEH,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,IAAI;IACrC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,EAAE,CAAC;AACX,CAAC,CAAC,CAAC;AAEH,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAY,MAAM,EAAE,UAAU,CAAC,CAAC;AAC3D,kBAAe,IAAI,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { UsageTierModel } from \"./UsageTier\";\nimport { AntiVirusTierModel } from \"./AntiVirusTier\";\n\nexport type PlanModel = mongoose.Document & {\n  usageTier: UsageTierModel,\n  avTier: AntiVirusTierModel,\n  term: number,\n  price: number,\n  active: boolean\n};\n\nconst planSchema = new mongoose.Schema({\n    usageTier: { type: mongoose.Schema.Types.ObjectId, ref: \"UsageTier\" },\n    avTier: { type: mongoose.Schema.Types.ObjectId, ref: \"AntiVirusTier\" },\n    term: Number,\n    price: Number,\n    active: Boolean\n}, { timestamps: true });\n\n/* Validate if a plan can be saved without violating the unique business key */\nplanSchema.pre(\"save\", function save(next) {\n    const plan = this;\n    if (!(plan.isModified(\"avTier\") || plan.isModified(\"usageTier\") || plan.isModified(\"term\"))) { return next(); }\n    Plan.find().where(\"avTier\").equals(plan.avTier)\n        .where(\"usageTier\").equals(plan.usageTier)\n        .where(\"term\").equals(plan.term)\n        .where(\"active\").equals(true)\n        .where(\"_id\").ne(plan._id)\n        .exec((err: Error, results: PlanModel[]) => {\n            if (err) return next(err);\n            else {\n                if (results.length === 0) next();\n                else return next(new Error(\"Unique key validation from Plan failed while saving!\"));\n            }\n        });\n});\n\nplanSchema.pre(\"find\", function find(next) {\n    this.populate(\"usageTier\").populate(\"avTier\");\n    next();\n});\n\nconst Plan = mongoose.model<PlanModel>(\"Plan\", planSchema);\nexport default Plan;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f682e0dd0b9a6557169349b824725321ca2086c0"}
,"/Users/Nav/Projects/typescript/fuss/src/models/ScanResult.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/ScanResult.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":4,"column":25},"end":{"line":18,"column":24}},"5":{"start":{"line":19,"column":19},"end":{"line":19,"column":65}},"6":{"start":{"line":20,"column":0},"end":{"line":20,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"ScanResult.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/ScanResult.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAiBrC,MAAM,gBAAgB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACzC,WAAW,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,aAAa,EAAE;IACzE,QAAQ,EAAE,MAAM;IAChB,gBAAgB,EAAE,MAAM;IACxB,KAAK,EAAE;QACH;YACI,EAAE,EAAE,MAAM;YACV,MAAM,EAAE,OAAO;SAClB;KACJ;IACD,QAAQ,EAAE,MAAM;IAChB,WAAW,EAAE,OAAO;IACpB,SAAS,EAAE,OAAO;IAClB,gBAAgB,EAAE,CAAC,MAAM,CAAC;CAC7B,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,MAAM,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAkB,YAAY,EAAE,gBAAgB,CAAC,CAAC;AACnF,kBAAe,UAAU,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { ApplicationModel } from \"./Application\";\n\nexport type ScanResultModel = mongoose.Document & {\n    application: ApplicationModel,\n    fileName: string,\n    originalFileName: string,\n    scans: AVResult[],\n    fileSize: number,\n    quarantined: boolean,\n    forwarded: boolean,\n    processingErrors: string[]\n};\nexport type AVResult = {\n    av: string,\n    result: boolean\n};\nconst scanResultSchema = new mongoose.Schema({\n    application: { type: mongoose.Schema.Types.ObjectId, ref: \"Application\" },\n    fileName: String,\n    originalFileName: String,\n    scans: [\n        {\n            av: String,\n            result: Boolean\n        }\n    ],\n    fileSize: Number,\n    quarantined: Boolean,\n    forwarded: Boolean,\n    processingErrors: [String]\n}, { timestamps: true });\n\nconst ScanResult = mongoose.model<ScanResultModel>(\"ScanResult\", scanResultSchema);\nexport default ScanResult;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"5020cc5b5ff441d59881e268a3c11b153836fe3d"}
,"/Users/Nav/Projects/typescript/fuss/src/models/Subscription.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/Subscription.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":52}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":46}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":48}},"8":{"start":{"line":10,"column":27},"end":{"line":17,"column":24}},"9":{"start":{"line":18,"column":21},"end":{"line":18,"column":71}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":31},"end":{"line":9,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":3},"end":{"line":9,"column":50}},"type":"binary-expr","locations":[{"start":{"line":9,"column":3},"end":{"line":9,"column":21}},{"start":{"line":9,"column":26},"end":{"line":9,"column":49}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"Subscription.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/Subscription.ts"],"names":[],"mappings":";;AAAA,qCAAqC;AAarC,IAAK,kBAEJ;AAFD,WAAK,kBAAkB;IACnB,uCAAiB,CAAA;IAAE,yCAAmB,CAAA;IAAE,2CAAqB,CAAA;AACjE,CAAC,EAFI,kBAAkB,KAAlB,kBAAkB,QAEtB;AAED,MAAM,kBAAkB,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IAC3C,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;IAC3D,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;IAC3D,SAAS,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;IAC5C,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE;IAC1C,SAAS,EAAE,OAAO;IAClB,MAAM,EAAE,MAAM;CACjB,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,MAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAoB,cAAc,EAAE,kBAAkB,CAAC,CAAC;AAC3F,kBAAe,YAAY,CAAC","sourcesContent":["import * as mongoose from \"mongoose\";\nimport { PlanModel } from \"./Plan\";\nimport { UserModel } from \"./User\";\n\nexport type SubscriptionModel = mongoose.Document & {\n  plan: PlanModel,\n  user: UserModel,\n  startDate: Date,\n  endDate: Date,\n  autoRenew: boolean,\n  status: SubscriptionStatus\n};\n\nenum SubscriptionStatus {\n    ACTIVE = \"ACTIVE\", EXPIRED = \"EXPIRED\", CANCELED = \"CANCELED\"\n}\n\nconst subscriptionSchema = new mongoose.Schema({\n    plan: { type: mongoose.Schema.Types.ObjectId, ref: \"Plan\" },\n    user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\n    startDate: { type: Date, default: Date.now },\n    endDate: { type: Date, default: Date.now },\n    autoRenew: Boolean,\n    status: String\n}, { timestamps: true });\n\nconst Subscription = mongoose.model<SubscriptionModel>(\"Subscription\", subscriptionSchema);\nexport default Subscription;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"4cf945df07af26cd54ae5c6d29c6b192c38b9c4f"}
,"/Users/Nav/Projects/typescript/fuss/src/models/User.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/models/User.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":15},"end":{"line":3,"column":39}},"4":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"5":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"6":{"start":{"line":6,"column":19},"end":{"line":22,"column":24}},"7":{"start":{"line":26,"column":0},"end":{"line":43,"column":3}},"8":{"start":{"line":27,"column":17},"end":{"line":27,"column":21}},"9":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"10":{"start":{"line":29,"column":8},"end":{"line":29,"column":22}},"11":{"start":{"line":31,"column":4},"end":{"line":42,"column":7}},"12":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"13":{"start":{"line":33,"column":12},"end":{"line":33,"column":29}},"14":{"start":{"line":35,"column":8},"end":{"line":41,"column":11}},"15":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"16":{"start":{"line":37,"column":16},"end":{"line":37,"column":33}},"17":{"start":{"line":39,"column":12},"end":{"line":39,"column":33}},"18":{"start":{"line":40,"column":12},"end":{"line":40,"column":19}},"19":{"start":{"line":44,"column":0},"end":{"line":48,"column":2}},"20":{"start":{"line":45,"column":4},"end":{"line":47,"column":7}},"21":{"start":{"line":46,"column":8},"end":{"line":46,"column":25}},"22":{"start":{"line":52,"column":0},"end":{"line":61,"column":2}},"23":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"24":{"start":{"line":54,"column":8},"end":{"line":54,"column":19}},"25":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"26":{"start":{"line":57,"column":8},"end":{"line":57,"column":64}},"27":{"start":{"line":59,"column":16},"end":{"line":59,"column":73}},"28":{"start":{"line":60,"column":4},"end":{"line":60,"column":66}},"29":{"start":{"line":62,"column":13},"end":{"line":62,"column":47}},"30":{"start":{"line":63,"column":0},"end":{"line":63,"column":23}}},"fnMap":{"0":{"name":"save","decl":{"start":{"line":26,"column":32},"end":{"line":26,"column":36}},"loc":{"start":{"line":26,"column":43},"end":{"line":43,"column":1}},"line":26},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":23},"end":{"line":31,"column":24}},"loc":{"start":{"line":31,"column":38},"end":{"line":42,"column":5}},"line":31},"2":{"name":"(anonymous_2)","decl":{"start":{"line":35,"column":52},"end":{"line":35,"column":53}},"loc":{"start":{"line":35,"column":67},"end":{"line":41,"column":9}},"line":35},"3":{"name":"(anonymous_3)","decl":{"start":{"line":44,"column":37},"end":{"line":44,"column":38}},"loc":{"start":{"line":44,"column":70},"end":{"line":48,"column":1}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":45,"column":53},"end":{"line":45,"column":54}},"loc":{"start":{"line":45,"column":71},"end":{"line":47,"column":5}},"line":45},"5":{"name":"(anonymous_5)","decl":{"start":{"line":52,"column":30},"end":{"line":52,"column":31}},"loc":{"start":{"line":52,"column":46},"end":{"line":61,"column":1}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},{"start":{"line":28,"column":4},"end":{"line":30,"column":5}}],"line":28},"1":{"loc":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},{"start":{"line":32,"column":8},"end":{"line":34,"column":9}}],"line":32},"2":{"loc":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},{"start":{"line":36,"column":12},"end":{"line":38,"column":13}}],"line":36},"3":{"loc":{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":55,"column":5}},{"start":{"line":53,"column":4},"end":{"line":55,"column":5}}],"line":53},"4":{"loc":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},{"start":{"line":56,"column":4},"end":{"line":58,"column":5}}],"line":56}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"file":"User.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/models/User.ts"],"names":[],"mappings":";;AAAA,wCAAwC;AACxC,iCAAiC;AACjC,qCAAqC;AA4BrC,MAAM,UAAU,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;IACrC,KAAK,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE;IACrC,QAAQ,EAAE,MAAM;IAChB,kBAAkB,EAAE,MAAM;IAC1B,oBAAoB,EAAE,IAAI;IAE1B,QAAQ,EAAE,MAAM;IAChB,OAAO,EAAE,MAAM;IACf,MAAM,EAAE,MAAM;IACd,MAAM,EAAE,KAAK;IAEb,OAAO,EAAE;QACP,IAAI,EAAE,MAAM;QACZ,MAAM,EAAE,MAAM;QACd,QAAQ,EAAE,MAAM;QAChB,OAAO,EAAE,MAAM;QACf,OAAO,EAAE,MAAM;KAChB;CACF,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB;;GAEG;AACH,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,IAAI;IACvC,MAAM,IAAI,GAAG,IAAI,CAAC;IAClB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IAAC,CAAC;IACpD,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,IAAI;QAC3B,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC;QAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,GAAmB,EAAE,IAAI;YACpE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,EAAE,CAAC;QACT,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,UAAU,CAAC,OAAO,CAAC,eAAe,GAAG,UAAU,iBAAyB,EAAE,EAAkC;IAC1G,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,GAAmB,EAAE,OAAgB;QACrF,EAAE,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAGF;;GAEG;AACH,UAAU,CAAC,OAAO,CAAC,QAAQ,GAAG,UAAU,IAAY;IAClD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACV,IAAI,GAAG,GAAG,CAAC;IACb,CAAC;IACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,kCAAkC,IAAI,UAAU,CAAC;IAC1D,CAAC;IACD,MAAM,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACtE,MAAM,CAAC,+BAA+B,GAAG,MAAM,IAAI,UAAU,CAAC;AAChE,CAAC,CAAC;AAEF,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAY,MAAM,EAAE,UAAU,CAAC,CAAC;AAC3D,kBAAe,IAAI,CAAC","sourcesContent":["import * as bcrypt from \"bcrypt-nodejs\";\nimport * as crypto from \"crypto\";\nimport * as mongoose from \"mongoose\";\n\nexport type UserModel = mongoose.Document & {\n  email: string,\n  password: string,\n  passwordResetToken: string,\n  passwordResetExpires: Date,\n\n  facebook: string,\n  tokens: AuthToken[],\n\n  profile: {\n    name: string,\n    gender: string,\n    location: string,\n    website: string,\n    picture: string\n  },\n\n  comparePassword: (candidatePassword: string, cb: (err: any, isMatch: any) => {}) => void,\n  gravatar: (size: number) => string\n};\n\nexport type AuthToken = {\n  accessToken: string,\n  kind: string\n};\n\nconst userSchema = new mongoose.Schema({\n  email: { type: String, unique: true },\n  password: String,\n  passwordResetToken: String,\n  passwordResetExpires: Date,\n\n  facebook: String,\n  twitter: String,\n  google: String,\n  tokens: Array,\n\n  profile: {\n    name: String,\n    gender: String,\n    location: String,\n    website: String,\n    picture: String\n  }\n}, { timestamps: true });\n\n/**\n * Password hash middleware.\n */\nuserSchema.pre(\"save\", function save(next) {\n  const user = this;\n  if (!user.isModified(\"password\")) { return next(); }\n  bcrypt.genSalt(10, (err, salt) => {\n    if (err) { return next(err); }\n    bcrypt.hash(user.password, salt, undefined, (err: mongoose.Error, hash) => {\n      if (err) { return next(err); }\n      user.password = hash;\n      next();\n    });\n  });\n});\n\nuserSchema.methods.comparePassword = function (candidatePassword: string, cb: (err: any, isMatch: any) => {}) {\n  bcrypt.compare(candidatePassword, this.password, (err: mongoose.Error, isMatch: boolean) => {\n    cb(err, isMatch);\n  });\n};\n\n\n/**\n * Helper method for getting user's gravatar.\n */\nuserSchema.methods.gravatar = function (size: number) {\n  if (!size) {\n    size = 200;\n  }\n  if (!this.email) {\n    return `https://gravatar.com/avatar/?s=${size}&d=retro`;\n  }\n  const md5 = crypto.createHash(\"md5\").update(this.email).digest(\"hex\");\n  return `https://gravatar.com/avatar/${md5}?s=${size}&d=retro`;\n};\n\nconst User = mongoose.model<UserModel>(\"User\", userSchema);\nexport default User;"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"cfc6ce9342899defce2d95ca01d9a453a862ca9e"}
,"/Users/Nav/Projects/typescript/fuss/src/services/AvastScanService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/AvastScanService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":26}},"4":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"5":{"start":{"line":7,"column":12},"end":{"line":7,"column":38}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":31},"end":{"line":10,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"AvastScanService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/AvastScanService.ts"],"names":[],"mappings":";;AAEA;IAEI,SAAS,CAAC,KAAe,EAAE,QAAkB;QACzC,MAAM,OAAO,GAAQ,EAAE,CAAC;QACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;QAC9B,CAAC;QACD,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACjC,CAAC;CACJ;AATD,mCASC","sourcesContent":["import ScanService from \"./ScanService\";\n\nexport default class AvastScanService implements ScanService {\n\n    scanFiles(files: string[], callback: Function): void {\n        const results: any = {};\n        for (let i = 0; i < files.length; i++) {\n            results[files[i]] = false;\n        }\n        callback(undefined, results);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"bb8f504e70edaa3a42631d915330a05f97f9f5cc"}
,"/Users/Nav/Projects/typescript/fuss/src/services/ClamAVScanService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/ClamAVScanService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":17},"end":{"line":3,"column":36}},"4":{"start":{"line":6,"column":8},"end":{"line":20,"column":10}},"5":{"start":{"line":23,"column":21},"end":{"line":23,"column":47}},"6":{"start":{"line":24,"column":24},"end":{"line":24,"column":26}},"7":{"start":{"line":25,"column":8},"end":{"line":35,"column":11}},"8":{"start":{"line":26,"column":12},"end":{"line":29,"column":45}},"9":{"start":{"line":27,"column":16},"end":{"line":27,"column":30}},"10":{"start":{"line":29,"column":16},"end":{"line":29,"column":45}},"11":{"start":{"line":31,"column":12},"end":{"line":34,"column":39}},"12":{"start":{"line":32,"column":16},"end":{"line":32,"column":37}},"13":{"start":{"line":34,"column":16},"end":{"line":34,"column":39}},"14":{"start":{"line":38,"column":0},"end":{"line":38,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":21,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":31},"end":{"line":36,"column":5}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":31},"end":{"line":25,"column":32}},"loc":{"start":{"line":25,"column":40},"end":{"line":30,"column":9}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":11},"end":{"line":30,"column":12}},"loc":{"start":{"line":30,"column":34},"end":{"line":35,"column":9}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":12},"end":{"line":29,"column":45}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":29,"column":45}},{"start":{"line":26,"column":12},"end":{"line":29,"column":45}}],"line":26},"1":{"loc":{"start":{"line":31,"column":12},"end":{"line":34,"column":39}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":34,"column":39}},{"start":{"line":31,"column":12},"end":{"line":34,"column":39}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"ClamAVScanService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/ClamAVScanService.ts"],"names":[],"mappings":";;AACA,qCAAqC;AAErC;IAAA;QAEY,gBAAW,GAAQ;YACvB,QAAQ,EAAE;gBACN,IAAI,EAAE,yBAAyB;gBAC/B,aAAa,EAAE,IAAI;gBACnB,EAAE,EAAE,SAAS;gBACb,MAAM,EAAE,IAAI;aACf;YACD,SAAS,EAAE;gBACP,IAAI,EAAE,0BAA0B;gBAChC,WAAW,EAAE,kCAAkC;gBAC/C,SAAS,EAAE,IAAI;gBACf,SAAS,EAAE,KAAK;gBAChB,MAAM,EAAE,IAAI;aACf;SACJ,CAAC;IAaN,CAAC;IAXG,SAAS,CAAC,KAAe,EAAE,QAAkB;QACzC,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACxC,MAAM,OAAO,GAAQ,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,GAAU;YAC9B,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvB,IAAI;gBAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACtC,CAAC,EAAE,CAAC,GAAU,EAAE,IAAY,EAAE,MAAe;YACzC,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;YAC9B,IAAI;gBAAC,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;QAChC,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AA7BD,oCA6BC","sourcesContent":["import ScanService from \"./ScanService\";\nimport * as clamscan from \"clamscan\";\n\nexport default class ClamAVScanService implements ScanService {\n\n    private clamOptions: any = {\n        clamscan: {\n            path: \"/usr/local/bin/clamscan\",\n            scan_archives: true,\n            db: undefined,\n            active: true\n        },\n        clamdscan: {\n            path: \"/usr/local/bin/clamdscan\",\n            config_file: \"/usr/local/etc/clamav/clamd.conf\",\n            multiscan: true,\n            reload_db: false,\n            active: true\n        }\n    };\n\n    scanFiles(files: string[], callback: Function): void {\n        const clam = clamscan(this.clamOptions);\n        const results: any = {};\n        clam.scan_files(files, (err: Error) => {\n            if (err) callback(err);\n            else callback(undefined, results);\n        }, (err: Error, file: string, result: boolean) => {\n            if (err) results[file] = true;\n            else results[file] = result;\n        });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"22ea0b5dea259f1272e41935f0e9bebb0de384e7"}
,"/Users/Nav/Projects/typescript/fuss/src/services/DropboxForwardService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/DropboxForwardService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":11},"end":{"line":6,"column":24}},"7":{"start":{"line":9,"column":24},"end":{"line":9,"column":91}},"8":{"start":{"line":10,"column":8},"end":{"line":20,"column":11}},"9":{"start":{"line":11,"column":27},"end":{"line":11,"column":51}},"10":{"start":{"line":12,"column":12},"end":{"line":14,"column":52}},"11":{"start":{"line":13,"column":34},"end":{"line":13,"column":60}},"12":{"start":{"line":14,"column":34},"end":{"line":14,"column":48}},"13":{"start":{"line":16,"column":12},"end":{"line":19,"column":42}},"14":{"start":{"line":17,"column":16},"end":{"line":17,"column":30}},"15":{"start":{"line":19,"column":16},"end":{"line":19,"column":42}},"16":{"start":{"line":23,"column":0},"end":{"line":23,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":34},"end":{"line":21,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":25},"end":{"line":10,"column":26}},"loc":{"start":{"line":10,"column":45},"end":{"line":15,"column":9}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":22},"end":{"line":13,"column":23}},"loc":{"start":{"line":13,"column":32},"end":{"line":13,"column":62}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":23},"end":{"line":14,"column":24}},"loc":{"start":{"line":14,"column":32},"end":{"line":14,"column":50}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":11},"end":{"line":15,"column":12}},"loc":{"start":{"line":15,"column":26},"end":{"line":20,"column":9}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":12},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":19,"column":42}},{"start":{"line":16,"column":12},"end":{"line":19,"column":42}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"DropboxForwardService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/DropboxForwardService.ts"],"names":[],"mappings":";;AAAA,qDAA8C;AAC9C,mCAAoC;AACpC,+BAA+B;AAC/B,yBAAyB;AAEzB,2BAA2C,SAAQ,wBAAc;IAE7D,YAAY,CAAC,KAAyB,EAAE,QAAkB;QACtD,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,EAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,EAAC,CAAC,CAAC;QAClF,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAsB,EAAE,QAAQ;YAC9C,MAAM,MAAM,GAAW,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,OAAO,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAC,CAAC;iBAChG,IAAI,CAAC,CAAC,IAAS,OAAO,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;iBACnD,KAAK,CAAC,CAAC,GAAU,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,EAAE,CAAC,GAAU,EAAE,IAAS;YACtB,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvB,IAAI;gBAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAdD,wCAcC","sourcesContent":["import ForwardService from \"./ForwardService\";\nimport Dropbox = require(\"dropbox\");\nimport * as async from \"async\";\nimport * as fs from \"fs\";\n\nexport default class DropboxForwardService extends ForwardService {\n\n    forwardFiles(files: [string, string][], callback: Function): void {\n        const dropbox = new Dropbox({accessToken: this.config.dropboxConfig.accessToken});\n        async.map(files, (file: [string, string], callback) => {\n            const buffer: Buffer = fs.readFileSync(file[0]);\n            dropbox.filesUpload({path: \"/\" + this.config.dropboxConfig.folder + \"/\" + file[1], contents: buffer})\n                .then((data: any) => { callback(undefined, data); })\n                .catch((err: Error) => { callback(err); });\n        }, (err: Error, data: any) => {\n           if (err) callback(err);\n           else callback(undefined, data);\n        });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"f85ab25a248b0ab85784ce675dead55d61390983"}
,"/Users/Nav/Projects/typescript/fuss/src/services/FTPForwardService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/FTPForwardService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":12},"end":{"line":4,"column":26}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"6":{"start":{"line":8,"column":26},"end":{"line":8,"column":35}},"7":{"start":{"line":9,"column":8},"end":{"line":30,"column":11}},"8":{"start":{"line":10,"column":12},"end":{"line":29,"column":15}},"9":{"start":{"line":11,"column":16},"end":{"line":28,"column":17}},"10":{"start":{"line":12,"column":20},"end":{"line":12,"column":34}},"11":{"start":{"line":14,"column":20},"end":{"line":27,"column":23}},"12":{"start":{"line":15,"column":24},"end":{"line":20,"column":27}},"13":{"start":{"line":16,"column":28},"end":{"line":19,"column":47}},"14":{"start":{"line":17,"column":32},"end":{"line":17,"column":50}},"15":{"start":{"line":19,"column":32},"end":{"line":19,"column":47}},"16":{"start":{"line":22,"column":24},"end":{"line":22,"column":40}},"17":{"start":{"line":23,"column":24},"end":{"line":26,"column":54}},"18":{"start":{"line":24,"column":28},"end":{"line":24,"column":42}},"19":{"start":{"line":26,"column":28},"end":{"line":26,"column":54}},"20":{"start":{"line":31,"column":8},"end":{"line":35,"column":11}},"21":{"start":{"line":38,"column":0},"end":{"line":38,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":34},"end":{"line":36,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":30},"end":{"line":9,"column":31}},"loc":{"start":{"line":9,"column":36},"end":{"line":30,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":54},"end":{"line":10,"column":55}},"loc":{"start":{"line":10,"column":68},"end":{"line":29,"column":13}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":37},"end":{"line":14,"column":38}},"loc":{"start":{"line":14,"column":61},"end":{"line":21,"column":21}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":56},"end":{"line":15,"column":57}},"loc":{"start":{"line":15,"column":65},"end":{"line":20,"column":25}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":21,"column":23},"end":{"line":21,"column":24}},"loc":{"start":{"line":21,"column":38},"end":{"line":27,"column":21}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":16},"end":{"line":28,"column":17}},"type":"if","locations":[{"start":{"line":11,"column":16},"end":{"line":28,"column":17}},{"start":{"line":11,"column":16},"end":{"line":28,"column":17}}],"line":11},"1":{"loc":{"start":{"line":16,"column":28},"end":{"line":19,"column":47}},"type":"if","locations":[{"start":{"line":16,"column":28},"end":{"line":19,"column":47}},{"start":{"line":16,"column":28},"end":{"line":19,"column":47}}],"line":16},"2":{"loc":{"start":{"line":23,"column":24},"end":{"line":26,"column":54}},"type":"if","locations":[{"start":{"line":23,"column":24},"end":{"line":26,"column":54}},{"start":{"line":23,"column":24},"end":{"line":26,"column":54}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"FTPForwardService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/FTPForwardService.ts"],"names":[],"mappings":";;AAAA,qDAA8C;AAC9C,2BAA2B;AAC3B,+BAA+B;AAE/B,uBAAuC,SAAQ,wBAAc;IAEzD,YAAY,CAAC,KAAyB,EAAE,QAAkB;QACtD,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;QAE5B,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE;YAClB,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,GAAU,EAAE,GAAW;gBAC9D,EAAE,CAAC,CAAC,GAAG,CAAC;oBAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACvB,IAAI,CAAC,CAAC;oBACF,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAsB,EAAE,YAAY;wBAClD,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAU;4BACvC,EAAE,CAAC,CAAC,GAAG,CAAC;gCAAC,YAAY,CAAC,GAAG,CAAC,CAAC;4BAC3B,IAAI;gCAAC,YAAY,EAAE,CAAC;wBACxB,CAAC,CAAC,CAAC;oBACP,CAAC,EAAE,CAAC,GAAU,EAAE,IAAS;wBACrB,SAAS,CAAC,GAAG,EAAE,CAAC;wBAChB,EAAE,CAAC,CAAC,GAAG,CAAC;4BAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;wBACvB,IAAI;4BAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACP,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,OAAO,CAAC;YACd,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI;YAChC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;YACpC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ;SAC3C,CAAC,CAAC;IACP,CAAC;CACJ;AA7BD,oCA6BC","sourcesContent":["import ForwardService from \"./ForwardService\";\nimport * as ftp from \"ftp\";\nimport * as async from \"async\";\n\nexport default class FTPForwardService extends ForwardService {\n\n    forwardFiles(files: [string, string][], callback: Function): void {\n        const ftpClient = new ftp();\n\n        ftpClient.on(\"ready\", () => {\n            ftpClient.cwd(this.config.ftpConfig.path, (err: Error, cwd: string) => {\n                if (err) callback(err);\n                else {\n                    async.map(files, (file: [string, string], fileCallback) => {\n                        ftpClient.put(file[0], file[1], (err: Error) => {\n                            if (err) fileCallback(err);\n                            else fileCallback();\n                        });\n                    }, (err: Error, data: any) => {\n                        ftpClient.end();\n                        if (err) callback(err);\n                        else callback(undefined, data);\n                    });\n                }\n            });\n        });\n\n        ftpClient.connect({\n            host: this.config.ftpConfig.host,\n            user: this.config.ftpConfig.username,\n            password: this.config.ftpConfig.password\n        });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"b591bd3babf2a93f6d27111bc8760a632e4c58d2"}
,"/Users/Nav/Projects/typescript/fuss/src/services/ForwardService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/ForwardService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":5,"column":8},"end":{"line":5,"column":29}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":24},"end":{"line":6,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"ForwardService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/ForwardService.ts"],"names":[],"mappings":";;AAEA;IACI,YAAsB,MAA0B;QAA1B,WAAM,GAAN,MAAM,CAAoB;IAAG,CAAC;CAEvD;AAHD,iCAGC","sourcesContent":["import { ForwardConfigModel } from \"../models/ForwardConfig\";\n\nexport default abstract class ForwardService {\n    constructor(protected config: ForwardConfigModel) {}\n    abstract forwardFiles(files: [string, string][], callback: Function): void;\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"83b47a852a5abaa1c2158a59707c0c811a18c90a"}
,"/Users/Nav/Projects/typescript/fuss/src/services/ForwardServiceFactory.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/ForwardServiceFactory.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":27},"end":{"line":3,"column":56}},"4":{"start":{"line":4,"column":32},"end":{"line":4,"column":66}},"5":{"start":{"line":5,"column":28},"end":{"line":5,"column":58}},"6":{"start":{"line":6,"column":29},"end":{"line":6,"column":60}},"7":{"start":{"line":7,"column":24},"end":{"line":7,"column":58}},"8":{"start":{"line":10,"column":8},"end":{"line":21,"column":9}},"9":{"start":{"line":12,"column":16},"end":{"line":12,"column":62}},"10":{"start":{"line":14,"column":16},"end":{"line":14,"column":67}},"11":{"start":{"line":16,"column":16},"end":{"line":16,"column":63}},"12":{"start":{"line":18,"column":16},"end":{"line":18,"column":64}},"13":{"start":{"line":20,"column":16},"end":{"line":20,"column":69}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":37},"end":{"line":22,"column":5}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":21,"column":9}},"type":"switch","locations":[{"start":{"line":11,"column":12},"end":{"line":12,"column":62}},{"start":{"line":13,"column":12},"end":{"line":14,"column":67}},{"start":{"line":15,"column":12},"end":{"line":16,"column":63}},{"start":{"line":17,"column":12},"end":{"line":18,"column":64}},{"start":{"line":19,"column":12},"end":{"line":20,"column":69}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":0},"b":{"0":[0,0,0,0,0]},"inputSourceMap":{"version":3,"file":"ForwardServiceFactory.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/ForwardServiceFactory.ts"],"names":[],"mappings":";;AAAA,yDAAkD;AAClD,mEAA4D;AAC5D,2DAAoD;AACpD,6DAAsD;AAEtD,2DAAgF;AAEhF;IAEI,MAAM,CAAC,iBAAiB,CAAC,MAA0B;QAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;YAClB,KAAK,iCAAiB,CAAC,EAAE;gBACrB,MAAM,CAAC,IAAI,0BAAgB,CAAC,MAAM,CAAC,CAAC;YACxC,KAAK,iCAAiB,CAAC,OAAO;gBAC1B,MAAM,CAAC,IAAI,+BAAqB,CAAC,MAAM,CAAC,CAAC;YAC7C,KAAK,iCAAiB,CAAC,GAAG;gBACtB,MAAM,CAAC,IAAI,2BAAiB,CAAC,MAAM,CAAC,CAAC;YACzC,KAAK,iCAAiB,CAAC,IAAI;gBACvB,MAAM,CAAC,IAAI,4BAAkB,CAAC,MAAM,CAAC,CAAC;YAC1C;gBACI,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;QAC7D,CAAC;IACL,CAAC;CACJ;AAhBD,wCAgBC","sourcesContent":["import S3ForwardService from \"./S3ForwardService\";\nimport DropboxForwardService from \"./DropboxForwardService\";\nimport FTPForwardService from \"./FTPForwardService\";\nimport HTTPForwardService from \"./HTTPForwardService\";\nimport ForwardService from \"./ForwardService\";\nimport { ForwardConfigModel, ForwardConfigType } from \"../models/ForwardConfig\";\n\nexport default class ForwardServiceFactory {\n\n    static getForwardService(config: ForwardConfigModel): ForwardService {\n        switch (config.type) {\n            case ForwardConfigType.S3 :\n                return new S3ForwardService(config);\n            case ForwardConfigType.DROPBOX :\n                return new DropboxForwardService(config);\n            case ForwardConfigType.FTP :\n                return new FTPForwardService(config);\n            case ForwardConfigType.HTTP :\n                return new HTTPForwardService(config);\n            default :\n                throw new Error(\"Unsupported forward configuration\");\n        }\n    }\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"be33705dbf8b91d667d084f08f0d92a5f7a0cb9e"}
,"/Users/Nav/Projects/typescript/fuss/src/services/HTTPForwardService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/HTTPForwardService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":19}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":34},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"HTTPForwardService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/HTTPForwardService.ts"],"names":[],"mappings":";;AACA,qDAA8C;AAE9C,wBAAwC,SAAQ,wBAAc;IAE1D,YAAY,CAAC,KAAyB,EAAE,QAAkB;QACtD,QAAQ,EAAE,CAAC;IACf,CAAC;CACJ;AALD,qCAKC","sourcesContent":["import { ForwardConfigModel } from \"../models/ForwardConfig\";\nimport ForwardService from \"./ForwardService\";\n\nexport default class HTTPForwardService extends ForwardService {\n\n    forwardFiles(files: [string, string][], callback: Function): void {\n        callback();\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"635e61d8c900dbda1f36c1ece51fc89b42fa6eac"}
,"/Users/Nav/Projects/typescript/fuss/src/services/KasperskyScanService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/KasperskyScanService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":5,"column":24},"end":{"line":5,"column":26}},"4":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"5":{"start":{"line":7,"column":12},"end":{"line":7,"column":38}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":31},"end":{"line":10,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"KasperskyScanService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/KasperskyScanService.ts"],"names":[],"mappings":";;AAEA;IAEI,SAAS,CAAC,KAAe,EAAE,QAAkB;QACzC,MAAM,OAAO,GAAQ,EAAE,CAAC;QACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;QAC9B,CAAC;QACD,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACjC,CAAC;CACJ;AATD,uCASC","sourcesContent":["import ScanService from \"./ScanService\";\n\nexport default class KasperskyScanService implements ScanService {\n\n    scanFiles(files: string[], callback: Function): void {\n        const results: any = {};\n        for (let i = 0; i < files.length; i++) {\n            results[files[i]] = false;\n        }\n        callback(undefined, results);\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"c6a2b38bea2b32646e96671a59eda8bd7b924eaa"}
,"/Users/Nav/Projects/typescript/fuss/src/services/S3ForwardService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/S3ForwardService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":25},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":12},"end":{"line":4,"column":30}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":11},"end":{"line":6,"column":24}},"7":{"start":{"line":9,"column":19},"end":{"line":12,"column":10}},"8":{"start":{"line":13,"column":8},"end":{"line":32,"column":11}},"9":{"start":{"line":14,"column":27},"end":{"line":14,"column":51}},"10":{"start":{"line":15,"column":12},"end":{"line":26,"column":15}},"11":{"start":{"line":22,"column":16},"end":{"line":25,"column":31}},"12":{"start":{"line":23,"column":20},"end":{"line":23,"column":34}},"13":{"start":{"line":25,"column":20},"end":{"line":25,"column":31}},"14":{"start":{"line":28,"column":12},"end":{"line":31,"column":27}},"15":{"start":{"line":29,"column":16},"end":{"line":29,"column":30}},"16":{"start":{"line":31,"column":16},"end":{"line":31,"column":27}},"17":{"start":{"line":35,"column":0},"end":{"line":35,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":34},"end":{"line":33,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":25},"end":{"line":13,"column":26}},"loc":{"start":{"line":13,"column":45},"end":{"line":27,"column":9}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":15},"end":{"line":21,"column":16}},"loc":{"start":{"line":21,"column":24},"end":{"line":26,"column":13}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":27,"column":11},"end":{"line":27,"column":12}},"loc":{"start":{"line":27,"column":20},"end":{"line":32,"column":9}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":16},"end":{"line":25,"column":31}},"type":"if","locations":[{"start":{"line":22,"column":16},"end":{"line":25,"column":31}},{"start":{"line":22,"column":16},"end":{"line":25,"column":31}}],"line":22},"1":{"loc":{"start":{"line":28,"column":12},"end":{"line":31,"column":27}},"type":"if","locations":[{"start":{"line":28,"column":12},"end":{"line":31,"column":27}},{"start":{"line":28,"column":12},"end":{"line":31,"column":27}}],"line":28}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"S3ForwardService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/S3ForwardService.ts"],"names":[],"mappings":";;AAAA,qDAA8C;AAC9C,+BAA+B;AAC/B,+BAA+B;AAC/B,yBAAyB;AAEzB,sBAAsC,SAAQ,wBAAc;IAExD,YAAY,CAAC,KAAyB,EAAE,QAAkB;QACtD,MAAM,EAAE,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC;YAClB,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW;YAC7C,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe;SAAC,CAAC,CAAC;QAE5D,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAsB,EAAE,QAAQ;YAC9C,MAAM,MAAM,GAAW,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,EAAE,CAAC,SAAS,CAAC;gBACT,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM;gBACnC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;gBACZ,GAAG,EAAE,aAAa;gBAClB,IAAI,EAAE,MAAM;gBACZ,aAAa,EAAE,MAAM,CAAC,UAAU;aACnC,EAAE,CAAC,GAAU;gBACV,EAAE,CAAC,CAAC,GAAG,CAAC;oBAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBACvB,IAAI;oBAAC,QAAQ,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACP,CAAC,EAAE,CAAC,GAAU;YACV,EAAE,CAAC,CAAC,GAAG,CAAC;gBAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACvB,IAAI;gBAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAxBD,mCAwBC","sourcesContent":["import ForwardService from \"./ForwardService\";\nimport * as AWS from \"aws-sdk\";\nimport * as async from \"async\";\nimport * as fs from \"fs\";\n\nexport default class S3ForwardService extends ForwardService {\n\n    forwardFiles(files: [string, string][], callback: Function): void {\n        const s3 = new AWS.S3({\n            accessKeyId: this.config.s3Config.accessKeyId,\n            secretAccessKey: this.config.s3Config.secretAccessKey});\n\n        async.map(files, (file: [string, string], callback) => {\n            const buffer: Buffer = fs.readFileSync(file[0]);\n            s3.putObject({\n                Bucket: this.config.s3Config.bucket,\n                Key: file[1],\n                ACL: \"public-read\",\n                Body: buffer,\n                ContentLength: buffer.byteLength\n            }, (err: Error) => {\n                if (err) callback(err);\n                else callback();\n            });\n        }, (err: Error) => {\n            if (err) callback(err);\n            else callback();\n        });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"883188f4f7ff74337e50b640b53df05bd64f2a6b"}
,"/Users/Nav/Projects/typescript/fuss/src/services/ScanServiceFactory.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/ScanServiceFactory.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"4":{"start":{"line":4,"column":28},"end":{"line":4,"column":58}},"5":{"start":{"line":5,"column":27},"end":{"line":5,"column":56}},"6":{"start":{"line":6,"column":31},"end":{"line":6,"column":64}},"7":{"start":{"line":9,"column":8},"end":{"line":18,"column":9}},"8":{"start":{"line":11,"column":16},"end":{"line":11,"column":57}},"9":{"start":{"line":13,"column":16},"end":{"line":13,"column":56}},"10":{"start":{"line":15,"column":16},"end":{"line":15,"column":60}},"11":{"start":{"line":17,"column":16},"end":{"line":17,"column":76}},"12":{"start":{"line":21,"column":0},"end":{"line":21,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":37},"end":{"line":19,"column":5}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":8},"end":{"line":18,"column":9}},"type":"switch","locations":[{"start":{"line":10,"column":12},"end":{"line":11,"column":57}},{"start":{"line":12,"column":12},"end":{"line":13,"column":56}},{"start":{"line":14,"column":12},"end":{"line":15,"column":60}},{"start":{"line":16,"column":12},"end":{"line":17,"column":76}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":1},"f":{"0":1},"b":{"0":[1,0,0,0]},"inputSourceMap":{"version":3,"file":"ScanServiceFactory.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/ScanServiceFactory.ts"],"names":[],"mappings":";;AACA,6DAAwD;AACxD,2DAAoD;AACpD,yDAAkD;AAClD,iEAA0D;AAE1D;IAEI,MAAM,CAAC,cAAc,CAAC,SAAiB;QACnC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAChB,KAAK,2BAAW,CAAC,MAAM;gBACnB,MAAM,CAAC,IAAI,2BAAiB,EAAE,CAAC;YACnC,KAAK,2BAAW,CAAC,KAAK;gBAClB,MAAM,CAAC,IAAI,0BAAgB,EAAE,CAAC;YAClC,KAAK,2BAAW,CAAC,SAAS;gBACtB,MAAM,CAAC,IAAI,8BAAoB,EAAE,CAAC;YACtC;gBACI,MAAM,IAAI,KAAK,CAAC,+BAA+B,SAAS,EAAE,CAAC,CAAC;QACpE,CAAC;IACL,CAAC;CACJ;AAdD,qCAcC","sourcesContent":["import ScanService from \"./ScanService\";\nimport { AntiViruses } from \"./../models/AntiVirusTier\";\nimport ClamAVScanService from \"./ClamAVScanService\";\nimport AvastScanService from \"./AvastScanService\";\nimport KasperskyScanService from \"./KasperskyScanService\";\n\nexport default class ScanServiceFactory {\n\n    static getScanService(antiVirus: string): ScanService {\n        switch (antiVirus) {\n            case AntiViruses.ClamAV :\n                return new ClamAVScanService();\n            case AntiViruses.Avast :\n                return new AvastScanService();\n            case AntiViruses.Kaspersky :\n                return new KasperskyScanService();\n            default :\n                throw new Error(`Unsupported anti virus type ${antiVirus}`);\n        }\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"a2c4b19e0474fde07da09038d1c935997b160f3f"}
,"/Users/Nav/Projects/typescript/fuss/src/services/UploadService.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/services/UploadService.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"4":{"start":{"line":4,"column":22},"end":{"line":4,"column":54}},"5":{"start":{"line":5,"column":14},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":32},"end":{"line":6,"column":66}},"7":{"start":{"line":7,"column":15},"end":{"line":7,"column":42}},"8":{"start":{"line":8,"column":23},"end":{"line":8,"column":56}},"9":{"start":{"line":9,"column":15},"end":{"line":9,"column":40}},"10":{"start":{"line":10,"column":29},"end":{"line":10,"column":60}},"11":{"start":{"line":11,"column":27},"end":{"line":11,"column":62}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":27}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":27}},"14":{"start":{"line":18,"column":8},"end":{"line":51,"column":11}},"15":{"start":{"line":19,"column":12},"end":{"line":20,"column":74}},"16":{"start":{"line":20,"column":16},"end":{"line":20,"column":74}},"17":{"start":{"line":21,"column":26},"end":{"line":21,"column":90}},"18":{"start":{"line":21,"column":60},"end":{"line":21,"column":87}},"19":{"start":{"line":22,"column":12},"end":{"line":50,"column":15}},"20":{"start":{"line":24,"column":16},"end":{"line":46,"column":19}},"21":{"start":{"line":25,"column":40},"end":{"line":25,"column":94}},"22":{"start":{"line":26,"column":20},"end":{"line":39,"column":23}},"23":{"start":{"line":27,"column":24},"end":{"line":38,"column":25}},"24":{"start":{"line":28,"column":28},"end":{"line":28,"column":42}},"25":{"start":{"line":30,"column":28},"end":{"line":36,"column":31}},"26":{"start":{"line":31,"column":51},"end":{"line":31,"column":121}},"27":{"start":{"line":31,"column":80},"end":{"line":31,"column":112}},"28":{"start":{"line":32,"column":46},"end":{"line":32,"column":68}},"29":{"start":{"line":33,"column":49},"end":{"line":33,"column":93}},"30":{"start":{"line":34,"column":32},"end":{"line":34,"column":53}},"31":{"start":{"line":35,"column":32},"end":{"line":35,"column":57}},"32":{"start":{"line":37,"column":28},"end":{"line":37,"column":39}},"33":{"start":{"line":41,"column":20},"end":{"line":45,"column":21}},"34":{"start":{"line":42,"column":24},"end":{"line":42,"column":36}},"35":{"start":{"line":44,"column":24},"end":{"line":44,"column":45}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":28}},"37":{"start":{"line":54,"column":8},"end":{"line":84,"column":11}},"38":{"start":{"line":55,"column":12},"end":{"line":58,"column":13}},"39":{"start":{"line":56,"column":28},"end":{"line":56,"column":72}},"40":{"start":{"line":57,"column":16},"end":{"line":57,"column":28}},"41":{"start":{"line":59,"column":12},"end":{"line":83,"column":15}},"42":{"start":{"line":61,"column":16},"end":{"line":62,"column":121}},"43":{"start":{"line":62,"column":20},"end":{"line":62,"column":121}},"44":{"start":{"line":63,"column":31},"end":{"line":63,"column":33}},"45":{"start":{"line":64,"column":16},"end":{"line":75,"column":19}},"46":{"start":{"line":65,"column":20},"end":{"line":74,"column":24}},"47":{"start":{"line":76,"column":16},"end":{"line":76,"column":59}},"48":{"start":{"line":79,"column":16},"end":{"line":79,"column":37}},"49":{"start":{"line":82,"column":16},"end":{"line":82,"column":28}},"50":{"start":{"line":87,"column":8},"end":{"line":120,"column":11}},"51":{"start":{"line":89,"column":26},"end":{"line":89,"column":28}},"52":{"start":{"line":90,"column":30},"end":{"line":90,"column":32}},"53":{"start":{"line":91,"column":12},"end":{"line":101,"column":15}},"54":{"start":{"line":92,"column":31},"end":{"line":92,"column":36}},"55":{"start":{"line":93,"column":16},"end":{"line":96,"column":19}},"56":{"start":{"line":94,"column":20},"end":{"line":95,"column":40}},"57":{"start":{"line":95,"column":24},"end":{"line":95,"column":40}},"58":{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},"59":{"start":{"line":98,"column":20},"end":{"line":98,"column":83}},"60":{"start":{"line":99,"column":20},"end":{"line":99,"column":56}},"61":{"start":{"line":102,"column":12},"end":{"line":103,"column":37}},"62":{"start":{"line":103,"column":16},"end":{"line":103,"column":37}},"63":{"start":{"line":104,"column":12},"end":{"line":119,"column":15}},"64":{"start":{"line":107,"column":16},"end":{"line":118,"column":19}},"65":{"start":{"line":108,"column":43},"end":{"line":108,"column":107}},"66":{"start":{"line":109,"column":20},"end":{"line":109,"column":65}},"67":{"start":{"line":111,"column":20},"end":{"line":112,"column":36}},"68":{"start":{"line":112,"column":24},"end":{"line":112,"column":36}},"69":{"start":{"line":113,"column":20},"end":{"line":116,"column":23}},"70":{"start":{"line":114,"column":24},"end":{"line":115,"column":56}},"71":{"start":{"line":115,"column":28},"end":{"line":115,"column":56}},"72":{"start":{"line":117,"column":20},"end":{"line":117,"column":41}},"73":{"start":{"line":123,"column":8},"end":{"line":138,"column":11}},"74":{"start":{"line":124,"column":12},"end":{"line":137,"column":15}},"75":{"start":{"line":125,"column":16},"end":{"line":131,"column":19}},"76":{"start":{"line":127,"column":20},"end":{"line":127,"column":52}},"77":{"start":{"line":130,"column":20},"end":{"line":130,"column":34}},"78":{"start":{"line":133,"column":16},"end":{"line":136,"column":37}},"79":{"start":{"line":134,"column":20},"end":{"line":134,"column":32}},"80":{"start":{"line":136,"column":20},"end":{"line":136,"column":37}},"81":{"start":{"line":141,"column":8},"end":{"line":168,"column":11}},"82":{"start":{"line":142,"column":12},"end":{"line":167,"column":15}},"83":{"start":{"line":144,"column":16},"end":{"line":145,"column":83}},"84":{"start":{"line":145,"column":20},"end":{"line":145,"column":83}},"85":{"start":{"line":146,"column":16},"end":{"line":146,"column":65}},"86":{"start":{"line":149,"column":16},"end":{"line":155,"column":28}},"87":{"start":{"line":158,"column":16},"end":{"line":159,"column":90}},"88":{"start":{"line":159,"column":20},"end":{"line":159,"column":90}},"89":{"start":{"line":160,"column":16},"end":{"line":160,"column":96}},"90":{"start":{"line":163,"column":16},"end":{"line":163,"column":37}},"91":{"start":{"line":166,"column":16},"end":{"line":166,"column":28}},"92":{"start":{"line":171,"column":0},"end":{"line":171,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":30},"end":{"line":16,"column":5}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":27},"end":{"line":52,"column":5}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":27},"end":{"line":18,"column":28}},"loc":{"start":{"line":18,"column":48},"end":{"line":51,"column":9}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":21,"column":42},"end":{"line":21,"column":43}},"loc":{"start":{"line":21,"column":58},"end":{"line":21,"column":89}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":23}},"loc":{"start":{"line":23,"column":41},"end":{"line":47,"column":13}},"line":23},"5":{"name":"(anonymous_5)","decl":{"start":{"line":24,"column":53},"end":{"line":24,"column":54}},"loc":{"start":{"line":24,"column":78},"end":{"line":40,"column":17}},"line":24},"6":{"name":"(anonymous_6)","decl":{"start":{"line":26,"column":58},"end":{"line":26,"column":59}},"loc":{"start":{"line":26,"column":76},"end":{"line":39,"column":21}},"line":26},"7":{"name":"(anonymous_7)","decl":{"start":{"line":30,"column":57},"end":{"line":30,"column":58}},"loc":{"start":{"line":30,"column":71},"end":{"line":36,"column":29}},"line":30},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":70},"end":{"line":31,"column":71}},"loc":{"start":{"line":31,"column":78},"end":{"line":31,"column":114}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":19},"end":{"line":40,"column":20}},"loc":{"start":{"line":40,"column":28},"end":{"line":46,"column":17}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":48,"column":23},"end":{"line":48,"column":24}},"loc":{"start":{"line":48,"column":32},"end":{"line":50,"column":13}},"line":48},"11":{"name":"(anonymous_11)","decl":{"start":{"line":53,"column":4},"end":{"line":53,"column":5}},"loc":{"start":{"line":53,"column":24},"end":{"line":85,"column":5}},"line":53},"12":{"name":"(anonymous_12)","decl":{"start":{"line":54,"column":27},"end":{"line":54,"column":28}},"loc":{"start":{"line":54,"column":48},"end":{"line":84,"column":9}},"line":54},"13":{"name":"(anonymous_13)","decl":{"start":{"line":60,"column":22},"end":{"line":60,"column":23}},"loc":{"start":{"line":60,"column":39},"end":{"line":77,"column":13}},"line":60},"14":{"name":"(anonymous_14)","decl":{"start":{"line":64,"column":35},"end":{"line":64,"column":36}},"loc":{"start":{"line":64,"column":45},"end":{"line":75,"column":17}},"line":64},"15":{"name":"(anonymous_15)","decl":{"start":{"line":78,"column":22},"end":{"line":78,"column":23}},"loc":{"start":{"line":78,"column":39},"end":{"line":80,"column":13}},"line":78},"16":{"name":"(anonymous_16)","decl":{"start":{"line":81,"column":23},"end":{"line":81,"column":24}},"loc":{"start":{"line":81,"column":32},"end":{"line":83,"column":13}},"line":81},"17":{"name":"(anonymous_17)","decl":{"start":{"line":86,"column":4},"end":{"line":86,"column":5}},"loc":{"start":{"line":86,"column":30},"end":{"line":121,"column":5}},"line":86},"18":{"name":"(anonymous_18)","decl":{"start":{"line":87,"column":27},"end":{"line":87,"column":28}},"loc":{"start":{"line":87,"column":48},"end":{"line":120,"column":9}},"line":87},"19":{"name":"(anonymous_19)","decl":{"start":{"line":91,"column":32},"end":{"line":91,"column":33}},"loc":{"start":{"line":91,"column":48},"end":{"line":101,"column":13}},"line":91},"20":{"name":"(anonymous_20)","decl":{"start":{"line":93,"column":41},"end":{"line":93,"column":42}},"loc":{"start":{"line":93,"column":51},"end":{"line":96,"column":17}},"line":93},"21":{"name":"(anonymous_21)","decl":{"start":{"line":106,"column":22},"end":{"line":106,"column":23}},"loc":{"start":{"line":106,"column":39},"end":{"line":119,"column":13}},"line":106},"22":{"name":"(anonymous_22)","decl":{"start":{"line":107,"column":54},"end":{"line":107,"column":55}},"loc":{"start":{"line":107,"column":83},"end":{"line":110,"column":17}},"line":107},"23":{"name":"(anonymous_23)","decl":{"start":{"line":110,"column":19},"end":{"line":110,"column":20}},"loc":{"start":{"line":110,"column":28},"end":{"line":118,"column":17}},"line":110},"24":{"name":"(anonymous_24)","decl":{"start":{"line":113,"column":40},"end":{"line":113,"column":41}},"loc":{"start":{"line":113,"column":56},"end":{"line":116,"column":21}},"line":113},"25":{"name":"(anonymous_25)","decl":{"start":{"line":122,"column":4},"end":{"line":122,"column":5}},"loc":{"start":{"line":122,"column":33},"end":{"line":139,"column":5}},"line":122},"26":{"name":"(anonymous_26)","decl":{"start":{"line":123,"column":27},"end":{"line":123,"column":28}},"loc":{"start":{"line":123,"column":48},"end":{"line":138,"column":9}},"line":123},"27":{"name":"(anonymous_27)","decl":{"start":{"line":124,"column":35},"end":{"line":124,"column":36}},"loc":{"start":{"line":124,"column":61},"end":{"line":132,"column":13}},"line":124},"28":{"name":"(anonymous_28)","decl":{"start":{"line":126,"column":26},"end":{"line":126,"column":27}},"loc":{"start":{"line":126,"column":42},"end":{"line":128,"column":17}},"line":126},"29":{"name":"(anonymous_29)","decl":{"start":{"line":129,"column":27},"end":{"line":129,"column":28}},"loc":{"start":{"line":129,"column":36},"end":{"line":131,"column":17}},"line":129},"30":{"name":"(anonymous_30)","decl":{"start":{"line":132,"column":15},"end":{"line":132,"column":16}},"loc":{"start":{"line":132,"column":33},"end":{"line":137,"column":13}},"line":132},"31":{"name":"(anonymous_31)","decl":{"start":{"line":140,"column":4},"end":{"line":140,"column":5}},"loc":{"start":{"line":140,"column":23},"end":{"line":169,"column":5}},"line":140},"32":{"name":"(anonymous_32)","decl":{"start":{"line":141,"column":27},"end":{"line":141,"column":28}},"loc":{"start":{"line":141,"column":48},"end":{"line":168,"column":9}},"line":141},"33":{"name":"(anonymous_33)","decl":{"start":{"line":143,"column":22},"end":{"line":143,"column":23}},"loc":{"start":{"line":143,"column":39},"end":{"line":147,"column":13}},"line":143},"34":{"name":"(anonymous_34)","decl":{"start":{"line":148,"column":22},"end":{"line":148,"column":23}},"loc":{"start":{"line":148,"column":32},"end":{"line":156,"column":13}},"line":148},"35":{"name":"(anonymous_35)","decl":{"start":{"line":157,"column":22},"end":{"line":157,"column":23}},"loc":{"start":{"line":157,"column":40},"end":{"line":161,"column":13}},"line":157},"36":{"name":"(anonymous_36)","decl":{"start":{"line":162,"column":22},"end":{"line":162,"column":23}},"loc":{"start":{"line":162,"column":32},"end":{"line":164,"column":13}},"line":162},"37":{"name":"(anonymous_37)","decl":{"start":{"line":165,"column":23},"end":{"line":165,"column":24}},"loc":{"start":{"line":165,"column":32},"end":{"line":167,"column":13}},"line":165}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":12},"end":{"line":20,"column":74}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":20,"column":74}},{"start":{"line":19,"column":12},"end":{"line":20,"column":74}}],"line":19},"1":{"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":56}},"type":"binary-expr","locations":[{"start":{"line":19,"column":16},"end":{"line":19,"column":28}},{"start":{"line":19,"column":32},"end":{"line":19,"column":56}}],"line":19},"2":{"loc":{"start":{"line":27,"column":24},"end":{"line":38,"column":25}},"type":"if","locations":[{"start":{"line":27,"column":24},"end":{"line":38,"column":25}},{"start":{"line":27,"column":24},"end":{"line":38,"column":25}}],"line":27},"3":{"loc":{"start":{"line":32,"column":46},"end":{"line":32,"column":68}},"type":"binary-expr","locations":[{"start":{"line":32,"column":46},"end":{"line":32,"column":62}},{"start":{"line":32,"column":66},"end":{"line":32,"column":68}}],"line":32},"4":{"loc":{"start":{"line":41,"column":20},"end":{"line":45,"column":21}},"type":"if","locations":[{"start":{"line":41,"column":20},"end":{"line":45,"column":21}},{"start":{"line":41,"column":20},"end":{"line":45,"column":21}}],"line":41},"5":{"loc":{"start":{"line":55,"column":12},"end":{"line":58,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":58,"column":13}},{"start":{"line":55,"column":12},"end":{"line":58,"column":13}}],"line":55},"6":{"loc":{"start":{"line":55,"column":16},"end":{"line":55,"column":54}},"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":27}},{"start":{"line":55,"column":31},"end":{"line":55,"column":54}}],"line":55},"7":{"loc":{"start":{"line":61,"column":16},"end":{"line":62,"column":121}},"type":"if","locations":[{"start":{"line":61,"column":16},"end":{"line":62,"column":121}},{"start":{"line":61,"column":16},"end":{"line":62,"column":121}}],"line":61},"8":{"loc":{"start":{"line":94,"column":20},"end":{"line":95,"column":40}},"type":"if","locations":[{"start":{"line":94,"column":20},"end":{"line":95,"column":40}},{"start":{"line":94,"column":20},"end":{"line":95,"column":40}}],"line":94},"9":{"loc":{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},{"start":{"line":97,"column":16},"end":{"line":100,"column":17}}],"line":97},"10":{"loc":{"start":{"line":102,"column":12},"end":{"line":103,"column":37}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":103,"column":37}},{"start":{"line":102,"column":12},"end":{"line":103,"column":37}}],"line":102},"11":{"loc":{"start":{"line":111,"column":20},"end":{"line":112,"column":36}},"type":"if","locations":[{"start":{"line":111,"column":20},"end":{"line":112,"column":36}},{"start":{"line":111,"column":20},"end":{"line":112,"column":36}}],"line":111},"12":{"loc":{"start":{"line":114,"column":24},"end":{"line":115,"column":56}},"type":"if","locations":[{"start":{"line":114,"column":24},"end":{"line":115,"column":56}},{"start":{"line":114,"column":24},"end":{"line":115,"column":56}}],"line":114},"13":{"loc":{"start":{"line":133,"column":16},"end":{"line":136,"column":37}},"type":"if","locations":[{"start":{"line":133,"column":16},"end":{"line":136,"column":37}},{"start":{"line":133,"column":16},"end":{"line":136,"column":37}}],"line":133},"14":{"loc":{"start":{"line":144,"column":16},"end":{"line":145,"column":83}},"type":"if","locations":[{"start":{"line":144,"column":16},"end":{"line":145,"column":83}},{"start":{"line":144,"column":16},"end":{"line":145,"column":83}}],"line":144},"15":{"loc":{"start":{"line":158,"column":16},"end":{"line":159,"column":90}},"type":"if","locations":[{"start":{"line":158,"column":16},"end":{"line":159,"column":90}},{"start":{"line":158,"column":16},"end":{"line":159,"column":90}}],"line":158}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":5,"13":5,"14":2,"15":2,"16":1,"17":2,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":1,"36":0,"37":3,"38":3,"39":1,"40":1,"41":3,"42":2,"43":1,"44":2,"45":2,"46":2,"47":2,"48":1,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1},"f":{"0":5,"1":2,"2":2,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":3,"12":3,"13":2,"14":2,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"0":[1,1],"1":[2,1],"2":[0,1],"3":[1,0],"4":[0,1],"5":[1,2],"6":[3,3],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"inputSourceMap":{"version":3,"file":"UploadService.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/services/UploadService.ts"],"names":[],"mappings":"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","sourcesContent":["import { File } from \"multiparty\";\nimport ScanResult, { AVResult, ScanResultModel } from \"../models/ScanResult\";\nimport Application, { ApplicationModel } from \"../models/Application\";\nimport * as async from \"async\";\nimport { ForwardConfigModel } from \"../models/ForwardConfig\";\nimport ForwardService from \"./ForwardService\";\nimport ForwardServiceFactory from \"./ForwardServiceFactory\";\nimport User, { UserModel } from \"./../models/User\";\nimport Subscription, { SubscriptionModel } from \"../models/Subscription\";\nimport { AntiVirusTierModel } from \"../models/AntiVirusTier\";\nimport Plan, {PlanModel} from \"../models/Plan\";\nimport ScanServiceFactory from \"./ScanServiceFactory\";\nimport ScanService from \"./ScanService\";\nimport ApplicationError from \"../util/applicationError\";\n\nexport default class UploadService {\n\n    constructor(private appId: string, private files: File[]) {}\n\n    scanFiles(scanResults: ScanResultModel[]): Promise<ScanResultModel[]> {\n        return new Promise((resolve, reject) => {\n            if (!scanResults || scanResults.length === 0) reject(new Error(\"Invalid input to scan files function\"));\n            const files: string [] = scanResults.map((scanResult: ScanResultModel) => { return scanResult.fileName; } );\n            this.getAntiVirusTier()\n                .then((antiVirusTier: AntiVirusTierModel) => {\n                    async.map(antiVirusTier.antiViruses, (antiVirus: string, callback) => {\n                        const scanService: ScanService = ScanServiceFactory.getScanService(antiVirus);\n                        scanService.scanFiles(files.slice(0), (err: Error, results: any) => {\n                           if (err) callback(err);\n                           else {\n                               Object.keys(results).forEach((property: string) => {\n                                   const scanResult: ScanResultModel = scanResults.filter((sr: ScanResultModel) => { return sr.fileName === property; }).pop();\n                                   const scans: AVResult[] = scanResult.scans || [];\n                                   const avResult: AVResult = { av: antiVirus, result: results[property]};\n                                   scans.push(avResult);\n                                   scanResult.scans = scans;\n                               });\n                               callback();\n                           }\n                        });\n                    }, (err: Error) => {\n                        if (err) reject(err);\n                        else {\n                            resolve(scanResults);\n                        }\n                    });\n                })\n                .catch((err: Error) => {\n                    reject(err);\n                });\n        });\n    }\n\n    createScanResults(): Promise<ScanResultModel[]> {\n        return new Promise((resolve, reject) => {\n            if (!this.files || this.files.length === 0) {\n                const err: Error = new Error(\"No files specified for scanning\");\n                reject(err);\n            }\n            Application.findById(this.appId)\n                .then((application: ApplicationModel) => {\n                    if (!application) reject(new ApplicationError(`Application config for app id ${this.appId} not found`, 404));\n                    const srDocs: ScanResultModel[] = [];\n                    this.files.forEach((file: any) => {\n                        srDocs.push(new ScanResult({\n                            application: application,\n                            fileName: file.path,\n                            originalFileName: file.originalFilename,\n                            fileSize: file.size,\n                            scans: [],\n                            quarantined: false,\n                            forwarded: false,\n                            processingErrors: []\n                        }));\n                    });\n                    return ScanResult.create(srDocs);\n                })\n                .then((scanResults: ScanResultModel[]) => {\n                    resolve(scanResults);\n                })\n                .catch((err) => {\n                    reject(err);\n                });\n        });\n    }\n\n    forwardFiles(scanResults: ScanResultModel[]): Promise<ScanResultModel[]> {\n        return new Promise((resolve, reject) => {\n            // Filter out infected files from being forwarded\n            const files: [string, string][] = [];\n            const fileNames: string[] = [];\n            scanResults.forEach((scanResult: ScanResultModel) => {\n                let infected: boolean = false;\n                scanResult.scans.forEach((scan: AVResult) => {\n                    if (scan.result) infected = true;\n                });\n                if (!infected) {\n                    files.push([scanResult.fileName, scanResult.originalFileName]);\n                    fileNames.push(scanResult.fileName);\n                }\n            });\n            if (files.length === 0) resolve(scanResults);\n            Application.findById(this.appId)\n                .populate(\"forwardConfigs\")\n                .then((application: ApplicationModel) => {\n                    async.map(application.forwardConfigs, (forwardConfig: ForwardConfigModel, callback) => {\n                        const forwardService: ForwardService = ForwardServiceFactory.getForwardService(forwardConfig);\n                        forwardService.forwardFiles(files, callback);\n                    }, (err: Error) => {\n                        if (err) reject(err);\n                        scanResults.forEach((scanResult: ScanResultModel) => {\n                           if (fileNames.indexOf(scanResult.fileName) != -1) scanResult.forwarded = true;\n                        });\n                        resolve(scanResults);\n                    });\n                });\n        });\n    }\n\n    saveScanResults(scanResults: ScanResultModel[]): Promise<ScanResultModel[]> {\n        return new Promise((resolve, reject) => {\n           async.map(scanResults, (scanResult: ScanResultModel, callback) => {\n                scanResult.save({})\n                    .then((scanResult: ScanResultModel) => {\n                        callback(undefined, scanResult);\n                    })\n                    .catch((err: Error) => {\n                       callback(err);\n                    });\n           }, (err: Error, results: ScanResultModel[]) => {\n               if (err) reject(err);\n               else resolve(results);\n           });\n        });\n    }\n\n    getAntiVirusTier(): Promise<AntiVirusTierModel> {\n        return new Promise((resolve, reject) => {\n            Application.findById(this.appId)\n                .then((application: ApplicationModel) => {\n                    if (!application) reject(new Error(`Unknown application with id ${this.appId}`));\n                    return User.findById(application.user);\n                })\n                .then((user: UserModel) => {\n                    return Subscription.findOne()\n                        .where(\"user\")\n                        .equals(user._id)\n                        .where(\"status\")\n                        .equals(\"ACTIVE\")\n                        .populate(\"plan\")\n                        .exec();\n                })\n                .then((subscription: SubscriptionModel) => {\n                    if (!subscription) reject(new Error(\"No active subscriptions found, upload forbidden!\"));\n                    return Plan.findById(subscription.plan._id).populate(\"avTier\").exec();\n                })\n                .then((plan: PlanModel) => {\n                    resolve(plan.avTier);\n                })\n                .catch((err: Error) => {\n                    reject(err);\n                });\n        });\n    }\n}"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"3137223f3f6b5cd975834599b4178038fae29168"}
,"/Users/Nav/Projects/typescript/fuss/src/util/applicationError.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/util/applicationError.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"4":{"start":{"line":6,"column":8},"end":{"line":6,"column":31}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":64}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":37},"end":{"line":9,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"applicationError.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/util/applicationError.ts"],"names":[],"mappings":";;AAAA,sBAAsC,SAAQ,KAAK;IAC/C,YAAmB,OAAe,EAAS,UAAkB;QACzD,KAAK,CAAC,OAAO,CAAC,CAAC;QADA,YAAO,GAAP,OAAO,CAAQ;QAAS,eAAU,GAAV,UAAU,CAAQ;QAEzD,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC;IAC5D,CAAC;CACJ;AALD,mCAKC","sourcesContent":["export default class ApplicationError extends Error {\n    constructor(public message: string, public statusCode: number) {\n        super(message);\n        Object.setPrototypeOf(this, ApplicationError.prototype);\n    }\n}\n"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"8f54739af40803c195af8b38a9201bea1003b26c"}
,"/Users/Nav/Projects/typescript/fuss/src/util/util.ts": {"path":"/Users/Nav/Projects/typescript/fuss/src/util/util.ts","statementMap":{"0":{"start":{"line":1,"column":13},"end":{"line":1,"column":42}},"1":{"start":{"line":1,"column":42},"end":{"line":1,"column":55}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"3":{"start":{"line":3,"column":27},"end":{"line":3,"column":56}},"4":{"start":{"line":4,"column":13},"end":{"line":4,"column":28}},"5":{"start":{"line":5,"column":0},"end":{"line":13,"column":2}},"6":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":24}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":56}},"10":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":21}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":28},"end":{"line":5,"column":29}},"loc":{"start":{"line":5,"column":42},"end":{"line":13,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":18},"end":{"line":14,"column":19}},"loc":{"start":{"line":14,"column":24},"end":{"line":16,"column":1}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":11,"column":5}},{"start":{"line":6,"column":4},"end":{"line":11,"column":5}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"util.js","sourceRoot":"","sources":["file:////Users/Nav/Projects/typescript/fuss/src/util/util.ts"],"names":[],"mappings":";;AACA,yDAAkD;AAClD,6BAA6B;AAElB,QAAA,iBAAiB,GAAG,CAAC,GAAa,EAAE,GAAU;IACrD,EAAE,CAAC,CAAC,GAAG,YAAY,0BAAgB,CAAC,CAAC,CAAC;QAClC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC/B,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACpB,CAAC;IACD,GAAG,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,EAAC,CAAC,CAAC;AACtD,CAAC,CAAC;AAES,QAAA,OAAO,GAAG;IACjB,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;AACrB,CAAC,CAAC","sourcesContent":["import { Response } from \"express\";\nimport ApplicationError from \"./applicationError\";\nimport * as uuid from \"uuid\";\n\nexport let sendErrorResponse = (res: Response, err: Error) => {\n    if (err instanceof ApplicationError) {\n        res.status(err.statusCode);\n    } else {\n        res.status(500);\n    }\n    res.json({status: \"Error\", message: err.message});\n};\n\nexport let getUuid = () => {\n    return uuid.v1();\n};"]},"_coverageSchema":"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c","hash":"370db6a6bc6277a05cebdc969e6a5a24cc248003"}
}
